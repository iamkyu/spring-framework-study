# 3장. 템플릿

> [토비의 스프링 3.1](http://book.naver.com/bookdb/book_detail.nhn?bid=7006516) (이일민 저. 에이콘출판. 2010) 을 공부하며 책 내용 중 일부를 요약.

예제 소스를 따라해 본 것은  github에  각 챕터별로 branch를 나눠 커밋하고 있다. (`Java8`, `Spring4.2`)
> [https://github.com/iamkyu/spring-framework-study/tree/chap03](https://github.com/iamkyu/spring-framework-study/tree/chap03)

## 템플릿메소드 패턴

> 템플릿: 코드에서 변경이 거의 일어나지 않으며 일정한 패턴을 패턴으로 유지되는 특성을 가진 부분을 독립시켜 효과적으로 활용할 수 있도록 하는 방법.

변하지 않는 부분은 슈퍼클래스에 두고 변하는 부분은 추상 메소드로 정의해서 상속을 통해 기능을 확장하는 패턴.

### 장점

- 슈퍼클래스의 기능을 확장하고 싶을 때마다 상속을 통해 자유롭게 확장 가능
- 확장으로 인해 슈퍼클래스의 불필요한 변화가 생기지 않음

### 단점

- 로직마다 상속을 통해 새로운 클래스를 만들어야 함
- 확장 구조가 클래스를 설계하는 시점에 고정되어 버림

## 전략 패턴

오브젝트를 완전히 분리하고 클래스 레벨에서는 인터페이스를 통해서만 의존하도록 만드는 전략 패턴. 바뀌지 않는 부분은 컨텍스트로, 바뀌는 부분은 전략으로 만들고 인터페이스를 통해 유연하게 전략을 변경할 수 있다.

### 장점
- 템플릿메소드 패턴보다 유연하고 확장성이 뛰어남
- 필요에 따라 컨텍스트는 그대로 유지되며 전략을 바꿔 쓸 수 있음

## 탬플릿/콜백 패턴

전략 패턴의 기본 구조에 익명 내부 클래스를 활용한 방식. 전략 패턴의 전략과 달리 단일 메소드 인페이스 사용.

### 장점

- 전략 패턴과 DI의 장점을 익명 내부 클래스 사용 전략과 결합한 독특한 활용법

스프링 프레임워크는 JDBC 코드 작성을 위해 JdbcTemplate을 기반으로 하는 다양한 템플릿과 콜백을 제공한다.

- update()
- queryForInt() *(queryForInt()와 queryForLong()은 스프링 버전 3.2.2부터 deprecated)*
- queryForObject()
- query